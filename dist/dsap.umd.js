(function(t,e){typeof exports=="object"&&typeof module<"u"?e(exports):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.dsap={}))})(this,function(t){"use strict";var f=Object.defineProperty;var p=(t,e,i)=>e in t?f(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var c=(t,e,i)=>(p(t,typeof e!="symbol"?e+"":e,i),i);class e{constructor(){c(this,"elems");c(this,"maxScrollDelta",1e3);this.init()}init(){this.elems=document.querySelectorAll("[data-dsap]"),document.documentElement.style.setProperty("--dsap-max-scroll-delta",this.maxScrollDelta),window.addEventListener("scroll",this.debounce(this.onScroll.bind(this)),{passive:!0})}onScroll(){const l=window.scrollY,n=l+window.innerHeight;this.elems.forEach(o=>{const d=o.getBoundingClientRect().top+l,u=d+o.getBoundingClientRect().height;let s=!1,a=!1,r=0;n<d?a=!1:l>u?a=!0:s=!0,s?r=((n-d)/(o.getBoundingClientRect().height+window.innerHeight)*this.maxScrollDelta).toFixed(0):a&&(r=this.maxScrollDelta),o.dataset.dsapIs=s?"in":a?"above":"below",s&&(o.dataset.dsapSeen=!0),o.style.setProperty("--dsap-scroll-delta",r)})}debounce(l){let n;return(...o)=>{n&&cancelAnimationFrame(n),n=requestAnimationFrame(()=>{l(...o)})}}}const i="";t.DSAP=e,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});
