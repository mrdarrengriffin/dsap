<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DSAP - Darren's Scrolling Animation Plugin</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300..500&family=Roboto+Serif:wght@100..900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="./docs.css">
    <style>
        [data-dsap=""],
        [data-dsap=""] * {
            transition: unset !important;
            transition-delay: 0s !important;
            transition-duration: 0s !important;
            transition-property: 0s !important;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="intro" data-dsap data-dsap-scroll>
            <div class="intro__content">
                <h1><span>D</span><span>S</span><span>A</span><span>P</span></h1>
                <div class="scroll-indicator">
                    Scroll down
                    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24">
                        <path fill="currentColor" d="M480-80 200-360l56-56 184 183v-647h80v647l184-184 56 57L480-80Z" />
                    </svg>
                </div>
            </div>
        </div>
        <div class="docs">
            <div class="content">
                <h2>Overview</h2>
                <p>DSAP is a streamlined library that equips you with a suite of functionalities for crafting compelling
                    CSS-based
                    animations.</p>
                <h3>What DSAP is not</h3>
                <p>
                    DSAP is a specialized utility designed to enhance CSS animations with scroll and visibility
                    tracking, complementing
                    rather than replacing robust animation libraries like GSAP. It's optimized for performance, yet
                    developers need to
                    integrate it thoughtfully, ensuring it contributes to improved website performance metrics such
                    as LCP and CLS,
                    thereby facilitating smooth and captivating user interactions.</p>
                <h2>How to Implement DSAP</h2>
                <ul>
                    <li>
                        <strong>Visibility Tracking</strong>:
                        <p>Tag HTML elements with the <code>data-dsap</code> attribute to monitor their presence
                            within the viewport.
                        </p>
                    </li>
                    <li>
                        <strong>Scroll Position Monitoring</strong>:
                        <p>Apply the <code>data-dsap-scroll</code> attribute to track an element's location in the
                            viewport as it
                            scrolls. This capability is essential for executing scroll-driven animations.</p>
                    </li>
                </ul>
                <h2>CSS Variables for DSAP Elements</h2>
                <p>DSAP imparts each element with specific CSS variables:</p>
                <ul>
                    <li><code>--dsap-scroll-delta</code>: Reflects the vertical scroll progress of an element within
                        the viewport,
                        spanning from 0 to <code>--dsap-max-scroll-delta</code>. This measurement is not a
                        percentage.</li>
                    <li><code>--dsap-max-scroll-delta</code>: Defines the scale for scroll delta interpolation, with
                        a default setting
                        of 1000. This variable is crucial for formulating scroll-related animations.</li>
                </ul>
                <h2>Data Attributes for DSAP Elements</h2>
                <p>DSAP enhances elements with a set of data attributes for detailed animation control:</p>
                <ul>
                    <li><code>data-dsap</code>: This attribute prompts DSAP to monitor the element. Upon initialisation, it will be assigned an
                        identifier for CSS targeting.</li>
                    <li><code>data-dsap-scroll</code>: Use this to opt-in to scroll position tracking</li>
                    <li><code>data-dsap-is</code>: Offers a simple descriptor of the element's vertical
                        positionâ€”whether it is "above",
                        "in", or "below" the viewport.</li>
                    <li><code>data-dsap-seen</code>: A boolean flag that determines if the element has ever been
                        visible in the
                        viewport.</li>
                </ul>
                <h2>Performance Considerations</h2>
                <p>DSAP has been fine-tuned for performance with the following methodologies:</p>
                <ul>
                    <li>
                        <strong>Efficient Variable Updates</strong>: Instead of inline style adjustments for each
                        element, DSAP modifies
                        a single style element on scroll, enhancing efficiency. This approach relies on unique
                        identifiers for DSAP
                        elements, allowing precise targeting via the head style.
                    </li>
                    <li>
                        <strong>Optimized Scroll Event Handling</strong>: Scroll-related computations are delegated
                        to
                        requestAnimationFrame(), minimizing impact on the main thread and preventing performance
                        bottlenecks. This
                        function aligns with the user's display refresh rate, typically at 60Hz, to limit excessive
                        processing and
                        seamlessly adapts to higher refresh-rate screens, ensuring fluid animation transitions.
                    </li>
                </ul>

                <h2>Get started</h2>
                <p>Download the latest release from <a
                        href="https://github.com/mrdarrengriffin/dsap/releases">GitHub</a> or
                    use
                    the CDN:</p>
                <code>&lt;script type=&quot;module&quot;&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;import {DSAP} from &quot;https://cdn.jsdelivr.net/gh/mrdarrengriffin/dsap@0.0.3/dist/dsap.es.js&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;let dsap = new DSAP();<br>&lt;/script&gt;</code>
            </div>
        </div>
    </div>
    <script type="module">
        import { DSAP } from "../dist/dsap.es.js";
        let dsap = new DSAP();        
    </script>
</body>

</html>