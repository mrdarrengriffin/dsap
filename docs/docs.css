body,
html {
    margin: 0;
    padding: 0;
}

[data-dsap] {
    --dsap-scroll-delta: 300;
    --percentage: calc(var(--dsap-scroll-delta) / var(--dsap-max-scroll-delta));
}

section {
    height: 100svh;
}

.h-1 {
    height: 100svh;
}

.h-2 {
    height: 200svh;
}

.h-3 {
    height: 300svh;
}

.h-4 {
    height: 400svh;
}

.h-5 {
    height: 500svh;
}

.stick {
    position: sticky;
    top: 0;
    left: 0;
    right: 0;
    height: 100svh;
    display: grid;
    place-items: center;
}

p {
    margin: 0;
    padding: 0;
    font-size: 2rem;
}

p .ooo {
    display: inline-flex;

    --width-from: 0px;
    --width-to: 240px;
    --width-start: 0.25;
    --width-stop: 0.75;
    width: calc(var(--width-from) + (var(--width-to) - var(--width-from)) * (max(0, min(1, (var(--percentage) - var(--width-start)) / (var(--width-stop) - var(--width-start))))));

    transition: width 0.3s ease-out, opacity 0.1s ease-out;
    overflow: hidden;
    transition-delay: 0s !important;
}


p span {
    transition: opacity 0.75s ease-out;
    opacity: 0;
}

p span:nth-child(1) {
    transition-delay: 0.1s;
}

p span:nth-child(2) {
    transition-delay: 0.2s;
}

p span:nth-child(3) {
    transition-delay: 0.3s;
}

p span:nth-child(4) {
    transition-delay: 0.4s;
}

p span:nth-child(5) {
    transition-delay: 0.5s;
}

p span:nth-child(6) {
    transition-delay: 0.6s;
}

p span:nth-child(7) {
    transition-delay: 0.7s;
}

p span:nth-child(8) {
    transition-delay: 0.8s;
}

p span:nth-child(9) {
    transition-delay: 0.9s;
}

p span:nth-child(10) {
    transition-delay: 1s;
}

p span:nth-child(11) {
    transition-delay: 1.1s;
}

p span:nth-child(12) {
    transition-delay: 1.2s;
}

p span:nth-child(13) {
    transition-delay: 1.3s;
}

p span:nth-child(14) {
    transition-delay: 1.4s;
}

p span:nth-child(15) {
    transition-delay: 1.5s;
}

p span:nth-child(16) {
    transition-delay: 1.6s;
}

p span:nth-child(17) {
    transition-delay: 1.7s;
}

[data-dsap][data-dsap-is="above"] p span,
[data-dsap][data-dsap-is="below"] p span {
    transition-delay: 0s !important;
    transition-duration: 0s !important;
}

[data-dsap][data-dsap-is="in"] p span {
    --opacity-from: 0;
    --opacity-to: 1;
    --opacity-start: 0.2;
    --opacity-stop: 0.2;
    opacity: calc(var(--opacity-from) + (var(--opacity-to) - var(--opacity-from)) * (max(0, min(1, (var(--percentage) - var(--opacity-start)) / (var(--opacity-stop) - var(--opacity-start))))));
}

.container {
    max-width: 850px;
    margin: 0 auto;
    position: relative;

}

.arrow {
    --weight: 3px;
    height: 10rem;
    position: absolute;
    top: 0;
    width: 3rem;
    transition: height .1s ease-out;

    --height-from: 3rem;
    --height-to: 100svh;
    --height-start: 0.1;
    --height-stop: .335;
    height: calc(var(--height-from) + (var(--height-to) - var(--height-from)) * (max(0, min(1, (var(--percentage) - var(--height-start)) / (var(--height-stop) - var(--height-start))))));
}

.arrow span {
    content: attr(data-dsap);
}

.arrow:before {
    content: '';
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    top: .5rem;
    height: calc(100% - 1rem);
    width: var(--weight);
    background: #000;
}

.arrow-tip {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    height: .85rem;
    width: .85rem;
    border-top: var(--weight) solid #000;
    border-right: var(--weight) solid #000;
}

.arrow-tip:nth-child(1) {
    transform: translateX(-50%) rotate(-45deg);
    top: .5rem;

}

.arrow-tip:nth-child(2) {
    transform: translateX(-50%) rotate(135deg);
    bottom: .5rem;
}


.viewport {
    position: absolute;
    inset: 0;
    background: #eee;


    --scale-from: 1;
    --scale-to: 0.5;
    --scale-start: 0.35;
    --scale-stop: .5;
    transform: scale(calc(var(--scale-from) + (var(--scale-to) - var(--scale-from)) * (max(0, min(1, (var(--percentage) - var(--scale-start)) / (var(--scale-stop) - var(--scale-start)))))));

    --br-from: 0rem;
    --br-to: 1rem;
    --br-start: 0.35;
    --br-stop: .4;
    border-radius: calc(var(--br-from) + (var(--br-to) - var(--br-from)) * (max(0, min(1, (var(--percentage) - var(--br-start)) / (var(--br-stop) - var(--br-start))))));

    transition: inset .1s ease-out, border-radius .1s ease-out, transform .1s ease-out;
}

section:nth-child(2) .stick{

    --bg-from: 1;
    --bg-to: 0;
    --bg-start: 0.33;
    --bg-stop: .4;
    --i: calc(var(--bg-from) + (var(--bg-to) - var(--bg-from)) * (max(0, min(1, (var(--percentage) - var(--bg-start)) / (var(--bg-stop) - var(--bg-start))))));
    background: radial-gradient(ellipse at 50% 50%, #4e4e4e calc(-25% + (var(--i) * 50%)), #000 125%);
}